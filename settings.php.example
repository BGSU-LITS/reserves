<?php

declare(strict_types=1);

use Lits\Config\FormConfig;
use Lits\Config\FrameworkConfig;
use Lits\Config\LocationConfig;
use Lits\Config\MailConfig;
use Lits\Config\SessionConfig;
use Lits\Config\TemplateConfig;
use Lits\Framework;

return function (Framework $framework): void {
    $settings = $framework->settings();

    assert($settings['framework'] instanceof FrameworkConfig);

    // Whether to enable debug information.
    // $settings['framework']->debug = false;

    // Path to log file to be generated by the application.
    // $settings['framework']->log = '';

    assert($settings['session'] instanceof SessionConfig);

    // Base64 encoded key with at least 32-bits of entropy. Required.
    // $settings['session']->key = '';

    // Seconds before a session will expire.
    // $settings['session']->expires = 3600;

    assert($settings['template'] instanceof TemplateConfig);

    // Path to cache directory, which must be writable.
    $settings['template']->cache = __DIR__ . DIRECTORY_SEPARATOR . 'cache';

    // Paths to search for template files.
    // $settings['template']->paths[] = '';

    // Name of the site.
    $settings['template']->site = 'Course Reserves Registration';

    // HTML analytics tracking code added to head element for the site.
    // $settings['template']->analytics = '';

    // HTML contact information for the site.
    // $settings['template']->contact = '';

    // Menu for the site.
    // $settings['template']->menu = [];

    assert($settings['mail'] instanceof MailConfig);

    // DSN for mail sending server.
    $settings['mail']->dsn = 'smtp://smtp.example.edu:25';

    // Default from address for emails.
    $settings['mail']->from = 'Example University Libraries <lib@example.edu>';

    assert($settings['form'] instanceof FormConfig);

    // Subject of the email sent by the form.
    // $settings['form']->subject = 'Course Reserves Registration';

    // Loan periods for items selectable by the user.
    // $settings['form']->periods = [];

    // Location to place reserves. At least one must be specified.
    $settings['form']->locations = [
        new LocationConfig(
            // Name of the location.
            'Main Library',

            // Email address to receive form submissions.
            'reserves@example.edu',

            // Optional instructions for form submitter.
            // '',
        ),
    ];
};
